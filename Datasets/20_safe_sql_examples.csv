safe_sql_example
"import java.sql.*;

public class SQLInjectionSecure {
    public static void main(String[] args) {
        String userInput = ""admin'; DROP TABLE users; --""; // User input with malicious SQL injection payload

        try {
            Connection connection = DriverManager.getConnection(""jdbc:mysql://localhost:3306/mydatabase"", ""username"", ""password"");

            // Use prepared statement to safely handle user input
            String query = ""SELECT * FROM users WHERE username=?"";
            PreparedStatement preparedStatement = connection.prepareStatement(query);
            preparedStatement.setString(1, userInput);

            ResultSet resultSet = preparedStatement.executeQuery();

            while (resultSet.next()) {
                System.out.println(""Username: "" + resultSet.getString(""username""));
                System.out.println(""Password: "" + resultSet.getString(""password""));
            }

        } catch (SQLException e) {
            e.printStackTrace();
        }
    }
}"
"import java.sql.*;

public class SecureSQLInjection {
    public static void main(String[] args) {
        String userInput = ""'; DROP TABLE users; --"";
        
        try {
            Connection conn = DriverManager.getConnection(""jdbc:mysql://localhost:3306/mydatabase"", ""username"", ""password"");
            
            String query = ""SELECT * FROM users WHERE username = ?"";
            PreparedStatement pstmt = conn.prepareStatement(query);
            pstmt.setString(1, userInput);
            
            ResultSet rs = pstmt.executeQuery();
            
            while (rs.next()) {
                System.out.println(""User ID: "" + rs.getInt(""id"") + "", Username: "" + rs.getString(""username""));
            }
            
            conn.close();
        } catch (SQLException e) {
            e.printStackTrace();
        }
    }
}"
"To prevent SQL Injection attacks in the provided Java code snippet, you should use parameterized queries instead of directly concatenating user input into the SQL query string. Parameterized queries separate the SQL code from the user input, effectively preventing malicious SQL injection attempts.

```java
import java.sql.*;

public class SecureSQLInjectionExample {

    public static void main(String[] args) {
        try {
            String userInput = ""'; DROP TABLE users; --""; // User input containing malicious SQL injection

            // Create a connection to the database
            Connection connection = DriverManager.getConnection(""jdbc:mysql://localhost:3306/mydatabase"", ""username"", ""password"");

            // Create a prepared statement with parameterized query
            String query = ""SELECT * FROM users WHERE username = ?"";
            PreparedStatement preparedStatement = connection.prepareStatement(query);
            
            // Set the parameter value for the prepared statement
            preparedStatement.setString(1, userInput);

            // Execute the prepared statement
            ResultSet resultSet = preparedStatement.executeQuery();

            // Process the query results
            while (resultSet.next()) {
                System.out.println(resultSet.getString(""username""));
                System.out.println(resultSet.getString(""email""));
            }

            // Close resources
            resultSet"
"

```java
import java.sql.Connection;
import java.sql.DriverManager;
import java.sql.PreparedStatement;
import java.sql.ResultSet;
import java.sql.SQLException;
import java.util.Scanner;

public class SecureSQLInjection {

    public static void main(String[] args) {
        Scanner scanner = new Scanner(System.in);
        
        System.out.print(""Enter a username: "");
        String username = scanner.nextLine();
        
        try {
            Connection conn = DriverManager.getConnection(""jdbc:mysql://localhost:3306/mydatabase"", ""root"", ""password"");
            
            String query = ""SELECT * FROM users WHERE username=?"";
            PreparedStatement pstmt = conn.prepareStatement(query);
            pstmt.setString(1, username);
            
            ResultSet rs = pstmt.executeQuery();
            
            while(rs.next()) {
                System.out.println(""User ID: "" + rs.getInt(""id"") + "", Username: "" + rs.getString(""username""));
            }
            
            conn.close();
        } catch (SQLException e) {
            e.printStackTrace();"
"import java.sql.*;

public class SecureCode {
    public static void main(String[] args) {
        String userInput = ""'; DROP TABLE users; --"";

        try {
            Connection conn = DriverManager.getConnection(""jdbc:mysql://localhost:3306/mydatabase"", ""username"", ""password"");

            String query = ""SELECT * FROM users WHERE username = ?"";
            PreparedStatement pstmt = conn.prepareStatement(query);
            pstmt.setString(1, userInput);

            ResultSet rs = pstmt.executeQuery();

            while (rs.next()) {
                System.out.println(""Username: "" + rs.getString(""username""));
            }

            conn.close();
        } catch (SQLException e) {
            e.printStackTrace();
        }
    }
}"
"import java.sql.*;

public class SecureSQLInjectionPrevention {

    public static void main(String[] args) {
        String userInput = ""'; DROP TABLE users; --""; // Malicious input simulating SQL Injection
        
        try {
            Connection connection = DriverManager.getConnection(""jdbc:mysql://localhost:3306/mydatabase"", ""username"", ""password"");
            
            String query = ""SELECT * FROM users WHERE username = ?"";
            PreparedStatement preparedStatement = connection.prepareStatement(query);
            preparedStatement.setString(1, userInput);
            
            ResultSet resultSet = preparedStatement.executeQuery();
            
            while(resultSet.next()) {
                System.out.println(""Username: "" + resultSet.getString(""username""));
                System.out.println(""Email: "" + resultSet.getString(""email""));
            }
            
            connection.close();
        } catch (SQLException e) {
            e.printStackTrace();
        }
    }
}"
"import java.sql.Connection;
import java.sql.DriverManager;
import java.sql.PreparedStatement;
import java.sql.ResultSet;
import java.sql.SQLException;

public class SQLInjectionSecure {

    public static void main(String[] args) {
        String userInput = ""'; DROP TABLE users; --""; // Malicious input

        try {
            Connection conn = DriverManager.getConnection(""jdbc:mysql://localhost:3306/mydatabase"", ""username"", ""password"");
            
            // Use PreparedStatement to prevent SQL Injection
            String query = ""SELECT * FROM users WHERE username=?"";
            PreparedStatement pstmt = conn.prepareStatement(query);
            pstmt.setString(1, userInput);
            
            ResultSet rs = pstmt.executeQuery();
            
            while (rs.next()) {
                System.out.println(""Username: "" + rs.getString(""username""));
            }
            
            conn.close();
        } catch (SQLException e) {
            e.printStackTrace();
        }
    }
}"
"import java.sql.*;

public class SQLInjectionSecure {

    public static void main(String[] args) {
        String userInput = ""'; DROP TABLE users; --"";
        
        try {
            Connection conn = DriverManager.getConnection(""jdbc:mysql://localhost:3306/mydatabase"", ""username"", ""password"");
            
            String query = ""SELECT * FROM users WHERE username = ?"";
            PreparedStatement pstmt = conn.prepareStatement(query);
            pstmt.setString(1, userInput);
            
            ResultSet rs = pstmt.executeQuery();
            
            while (rs.next()) {
                System.out.println(""User ID: "" + rs.getInt(""id"") + "", Username: "" + rs.getString(""username""));
            }
            
            conn.close();
        } catch (SQLException e) {
            e.printStackTrace();
        }
    }
}"
"import java.sql.*;

public class SecureSQLInjectionExample {

    public static void main(String[] args) {
        String userInput = ""'; DROP TABLE users; --""; // User input containing SQL injection
        String query = ""SELECT * FROM users WHERE username = ?"";

        try (Connection connection = DriverManager.getConnection(""jdbc:mysql://localhost:3306/mydatabase"", ""username"", ""password"");
             PreparedStatement statement = connection.prepareStatement(query)) {

            statement.setString(1, userInput);

            try (ResultSet resultSet = statement.executeQuery()) {
                while (resultSet.next()) {
                    System.out.println(resultSet.getString(""username""));
                }
            }

        } catch (SQLException e) {
            e.printStackTrace();
        }
    }
}"
"import java.sql.Connection;
import java.sql.DriverManager;
import java.sql.PreparedStatement;
import java.sql.ResultSet;
import java.sql.SQLException;

public class SQLInjectionSecureExample {

    public static void main(String[] args) {
        String userInput = ""'; DROP TABLE users; --"";

        try {
            Connection connection = DriverManager.getConnection(""jdbc:mysql://localhost:3306/mydatabase"", ""username"", ""password"");

            String query = ""SELECT * FROM users WHERE username = ?"";
            PreparedStatement statement = connection.prepareStatement(query);
            statement.setString(1, userInput);

            ResultSet resultSet = statement.executeQuery();

            while (resultSet.next()) {
                System.out.println(resultSet.getString(""username""));
            }

            resultSet.close();
            statement.close();
            connection.close();
        } catch (SQLException e) {
            e.printStackTrace();
        }
    }
}"
"import java.sql.Connection;
import java.sql.DriverManager;
import java.sql.PreparedStatement;
import java.sql.ResultSet;
import java.sql.SQLException;

public class SecureSQLCode {

    public static void main(String[] args) {
        String userInput = ""'; DROP TABLE users; --""; // Malicious input for SQL Injection

        try {
            Connection connection = DriverManager.getConnection(""jdbc:mysql://localhost:3306/mydatabase"", ""username"", ""password"");

            String query = ""SELECT * FROM users WHERE username = ?"";
            PreparedStatement preparedStatement = connection.prepareStatement(query);
            preparedStatement.setString(1, userInput);

            ResultSet resultSet = preparedStatement.executeQuery();

            while (resultSet.next()) {
                System.out.println(""Username: "" + resultSet.getString(""username""));
                System.out.println(""Email: "" + resultSet.getString(""email""));
                System.out.println(""-------------------------"");
            }

            connection.close();
        } catch (SQLException e) {
            e.printStackTrace();
        }
    }
}"
"import java.sql.Connection;
import java.sql.DriverManager;
import java.sql.PreparedStatement;
import java.sql.ResultSet;
import java.sql.SQLException;

public class SQLInjectionFixed {

    public static void main(String[] args) {
        String userInput = ""'; DROP TABLE users; --"";

        try (Connection conn = DriverManager.getConnection(""jdbc:mysql://localhost:3306/mydatabase"", ""username"", ""password"")) {
            String query = ""SELECT * FROM users WHERE username=?"";
            try (PreparedStatement stmt = conn.prepareStatement(query)) {
                stmt.setString(1, userInput);

                try (ResultSet rs = stmt.executeQuery()) {
                    while (rs.next()) {
                        System.out.println(rs.getString(""username""));
                    }
                }
            }
        } catch (SQLException e) {
            e.printStackTrace();
        }
    }
}"
"import java.sql.*;

public class SQLInjectionSecure {

    public static void main(String[] args) {
        String userInput = ""'; DROP TABLE users; --""; // User input with malicious intent
        
        try {
            Connection conn = DriverManager.getConnection(""jdbc:mysql://localhost:3306/mydatabase"", ""username"", ""password"");
            
            // Use PreparedStatement to avoid SQL Injection
            String query = ""SELECT * FROM users WHERE username = ?"";
            PreparedStatement pstmt = conn.prepareStatement(query);
            pstmt.setString(1, userInput);
            
            ResultSet rs = pstmt.executeQuery();
            
            while (rs.next()) {
                System.out.println(""Username: "" + rs.getString(""username""));
                System.out.println(""Email: "" + rs.getString(""email""));
            }
            
            conn.close();
        } catch (SQLException e) {
            e.printStackTrace();
        }
    }
}"
"import java.sql.*;

public class SecureSQLInjectionPrevention {
    public static void main(String[] args) {
        try {
            String userInput = ""'; DROP TABLE users; --""; // Simulated user input with malicious intent
            
            // Connect to the database
            Connection conn = DriverManager.getConnection(""jdbc:mysql://localhost:3306/mydatabase"", ""username"", ""password"");
            
            // Create a PreparedStatement with parameterized query
            String query = ""SELECT * FROM users WHERE username=?"";
            PreparedStatement pstmt = conn.prepareStatement(query);
            
            // Set the user input as a parameter in the PreparedStatement
            pstmt.setString(1, userInput);
            
            ResultSet rs = pstmt.executeQuery();
            
            while (rs.next()) {
                System.out.println(rs.getString(""username""));
                System.out.println(rs.getString(""email""));
            }
            
        } catch (SQLException e) {
            e.printStackTrace();
        }
    }
}"
"import java.sql.*;

public class SQLInjectionFixed {
    public static void main(String[] args) {
        String userInput = ""'; DROP TABLE users; --"";

        try {
            Connection connection = DriverManager.getConnection(""jdbc:mysql://localhost:3306/mydatabase"", ""username"", ""password"");
            String query = ""SELECT * FROM users WHERE username = ?"";
            
            PreparedStatement statement = connection.prepareStatement(query);
            statement.setString(1, userInput);
            
            ResultSet resultSet = statement.executeQuery();

            while (resultSet.next()) {
                System.out.println(resultSet.getString(""username""));
            }

            connection.close();
        } catch (SQLException e) {
            e.printStackTrace();
        }
    }
}"
```java
import java.sql.*;

public class UserAuthentication {

    private static final String DB_URL = ""jdbc:mysql://localhost:3306/mydatabase"";
    private static final String DB_USER = ""username"";
    private static final String DB_PASSWORD = ""password"";

    public boolean authenticateUser(String username, String password) {
        try (Connection conn = DriverManager.getConnection(DB_URL, DB_USER, DB_PASSWORD)) {
            String query = ""SELECT * FROM users WHERE username=? AND password=?"";
            try (PreparedStatement stmt = conn.prepareStatement(query)) {
                stmt.setString(1, username);
                stmt.setString(2, password);
                ResultSet rs = stmt.executeQuery();
                return rs.next();
            }
        } catch (SQLException e) {
            e.printStackTrace();
            return false;
        }
    }
};

```java
import java.sql.Connection;
import java.sql.DriverManager;
import java.sql.PreparedStatement;
import java.sql.ResultSet;
import java.sql.SQLException;
import java.util.Scanner;

public class SecureSQLInjectionCode {
    public static void main(String[] args) {
        try {
            Scanner scanner = new Scanner(System.in);
            System.out.print(""Enter username: "");
            String username = scanner.nextLine();

            Connection connection = DriverManager.getConnection(""jdbc:mysql://localhost:3306/mydatabase"", ""root"", ""password"");

            // Use a parameterized query to avoid SQL Injection
            String query = ""SELECT * FROM users WHERE username=?"";
            PreparedStatement preparedStatement = connection.prepareStatement(query);
            preparedStatement.setString(1, username);

            ResultSet resultSet = preparedStatement.executeQuery();

            while (resultSet.next()) {
                System.out.println(""User found: "" + resultSet.getString(""username""));
            }

        } catch (SQLException e) {
            e.printStackTrace();
        }"
"import java.sql.Connection;
import java.sql.DriverManager;
import java.sql.PreparedStatement;
import java.sql.ResultSet;
import java.util.Scanner;

public class SQLInjectionSecure {
    public static void main(String[] args) {
        try {
            Scanner scanner = new Scanner(System.in);
            System.out.print(""Enter username: "");
            String username = scanner.nextLine();

            String query = ""SELECT * FROM users WHERE username=?"";
            
            Connection connection = DriverManager.getConnection(""jdbc:mysql://localhost:3306/mydatabase"", ""root"", ""password"");
            
            PreparedStatement preparedStatement = connection.prepareStatement(query);
            preparedStatement.setString(1, username);
            
            ResultSet resultSet = preparedStatement.executeQuery();
            
            while(resultSet.next()) {
                System.out.println(""User found: "" + resultSet.getString(""username""));
            }
            
            connection.close();
        } catch (Exception e) {
            e.printStackTrace();
        }
    }
}"

public class SecureSQLInjectionExample {
    public static void main(String[] args) {
        String userInput = ""'; DROP TABLE users; --""; // Malicious input simulating a SQL Injection attack

        try {
            Connection connection = DriverManager.getConnection(""jdbc:mysql://localhost:3306/mydatabase"", ""username"", ""password"");

            String query = ""SELECT * FROM users WHERE username = ?"";
            PreparedStatement preparedStatement = connection.prepareStatement(query);
            preparedStatement.setString(1, userInput);

            ResultSet resultSet = preparedStatement.executeQuery();

            while (resultSet.next()) {
                System.out.println(""Username: "" + resultSet.getString(""username""));
                System.out.println(""Email: "" + resultSet.getString(""email""));
            }

            connection.close();
        } catch (SQLException e) {
            e.printStackTrace();
        }
    }
}"